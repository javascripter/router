"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1019],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),f=o,m=c["".concat(l,".").concat(f)]||c[f]||d[f]||a;return n?r.createElement(m,i(i({ref:t},u),{},{components:n})):r.createElement(m,i({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7476:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={title:"Root Layout"},i=void 0,s={unversionedId:"guides/root-layout",id:"guides/root-layout",title:"Root Layout",description:"Traditional React Native projects are structured with a single root component that is often defined in ./App.js or ./index.js. This pattern is often used to inject global providers such as Redux, Themes, Styles, etc. into the app, and to delay rendering until assets and fonts are loaded.",source:"@site/docs/guides/root-layout.md",sourceDirName:"guides",slug:"/guides/root-layout",permalink:"/router/docs/guides/root-layout",draft:!1,editUrl:"https://github.com/expo/router/tree/main/docs/docs/guides/root-layout.md",tags:[],version:"current",frontMatter:{title:"Root Layout"},sidebar:"tutorialSidebar",previous:{title:"Platform Specific Code",permalink:"/router/docs/guides/platform-specific-code"},next:{title:"Tabs",permalink:"/router/docs/guides/tabs"}},l={},p=[{value:"Loading Fonts",id:"loading-fonts",level:2},{value:"More",id:"more",level:2}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Traditional React Native projects are structured with a single root component that is often defined in ",(0,o.kt)("inlineCode",{parentName:"p"},"./App.js")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"./index.js"),". This pattern is often used to inject global providers such as Redux, Themes, Styles, etc. into the app, and to delay rendering until assets and fonts are loaded."),(0,o.kt)("p",null,"In Expo Router, you can use the ",(0,o.kt)("strong",{parentName:"p"},"Root Layout")," (",(0,o.kt)("inlineCode",{parentName:"p"},"app/_layout.js"),") to add providers which can be accessed by any route in the app."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Try to reduce the scope of your providers to only the routes that need them. This will improve performance and cause less rerenders.")),(0,o.kt)("h2",{id:"loading-fonts"},"Loading Fonts"),(0,o.kt)("p",null,"The following example demonstrates how fonts are loaded in a traditional React Native project using ",(0,o.kt)("inlineCode",{parentName:"p"},"@expo-google-fonts/inter"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Before")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=App.js",title:"App.js"},'import { useEffect } from "react";\n\nimport { Text, View } from "react-native";\nimport * as SplashScreen from "expo-splash-screen";\n\nimport { useFonts, Inter_500Medium } from "@expo-google-fonts/inter";\n\n// Prevent hiding the splash screen\nSplashScreen.preventAutoHideAsync();\n\nexport default function App() {\n  // Load the font `Inter_500Medium`\n  const [fontsLoaded] = useFonts({\n    Inter_500Medium,\n  });\n\n  useEffect(() => {\n    if (fontsLoaded) {\n      // Hide the splash screen after the fonts have loaded and the\n      // UI is ready.\n      SplashScreen.hideAsync();\n    }\n  }, [fontsLoaded]);\n\n  // Prevent rendering until the font has loaded\n  if (!fontsLoaded) {\n    return null;\n  }\n\n  return (\n    <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>\n      <Text style={{ fontFamily: "Inter_500Medium" }}>Inter Black</Text>\n    </View>\n  );\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"After")),(0,o.kt)("p",null,"In a Layout Route, we'll ensure all the requisite assets are loaded before rendering the children that depend on the assets."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=app/_layout.js",title:"app/_layout.js"},'import { Text, View } from "react-native";\n\nimport {\n  // Import `SplashScreen` from `expo-router` instead of `expo-splash-screen`\n  // highlight-next-line\n  SplashScreen,\n\n  // This example uses a basic Layout component, but you can use any Layout.\n  Slot,\n} from "expo-router";\n\nimport { useFonts, Inter_500Medium } from "@expo-google-fonts/inter";\n\nexport default function Layout() {\n  // Load the font `Inter_500Medium`\n  const [fontsLoaded] = useFonts({\n    Inter_500Medium,\n  });\n\n  if (!fontsLoaded) {\n    // The native splash screen will stay visible for as long as there\n    // are `<SplashScreen />` components mounted. This component can be nested.\n\n    // highlight-next-line\n    return <SplashScreen />;\n  }\n\n  // Render the children routes now that all the assets are loaded.\n  return <Slot />;\n}\n')),(0,o.kt)("h2",{id:"more"},"More"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/router/docs/migration/react-navigation/themes"},"Migrating React Navigation themes"))))}d.isMDXComponent=!0}}]);