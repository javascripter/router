"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9276],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=o.createContext({}),p=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),f=p(r),m=n,d=f["".concat(l,".").concat(m)]||f[m]||u[m]||a;return r?o.createElement(d,i(i({ref:t},c),{},{components:r})):o.createElement(d,i({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<a;p++)i[p]=r[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}f.displayName="MDXCreateElement"},4465:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var o=r(7462),n=(r(7294),r(3905));const a={title:"Platform Specific Code"},i=void 0,s={unversionedId:"guides/platform-specific-code",id:"guides/platform-specific-code",title:"Platform Specific Code",description:"While building your app, you may want to show specific content based on the current platform. Ideally, apps would have full feature parity across platforms, but this often isn't the case due to external design and business requirements. There are a few ways to achieve this in Expo Router.",source:"@site/docs/guides/platform-specific-code.md",sourceDirName:"guides",slug:"/guides/platform-specific-code",permalink:"/router/docs/guides/platform-specific-code",draft:!1,editUrl:"https://github.com/expo/router/tree/main/docs/docs/guides/platform-specific-code.md",tags:[],version:"current",frontMatter:{title:"Platform Specific Code"},sidebar:"tutorialSidebar",previous:{title:"Modals",permalink:"/router/docs/guides/modals"},next:{title:"Root Layout",permalink:"/router/docs/guides/root-layout"}},l={},p=[{value:"Platform module",id:"platform-module",level:3},{value:"Platform specific extensions",id:"platform-specific-extensions",level:3}],c={toc:p};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,o.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"While building your app, you may want to show specific content based on the current platform. Ideally, apps would have full feature parity across platforms, but this often isn't the case due to external design and business requirements. There are a few ways to achieve this in Expo Router."),(0,n.kt)("h3",{id:"platform-module"},"Platform module"),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/platform-specific-code#platform-module"},(0,n.kt)("inlineCode",{parentName:"a"},"Platform"))," module from React Native to detect the current platform and render the appropriate content based on the result. For example, you can render a ",(0,n.kt)("inlineCode",{parentName:"p"},"Tabs")," layout on mobile and a ",(0,n.kt)("inlineCode",{parentName:"p"},"Stack")," layout on the web."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="app/_layout.js"',title:'"app/_layout.js"'},'import { Platform } from \'react-native\';\nimport { Stack, Tabs } from \'expo-router\';\n\nexport default function Layout() {\n  const PlatformNavigator = Platform.OS === "web" ? Stack : Tabs;\n  return (\n    <PlatformNavigator>\n        <PlatformNavigator.Screen name="index" options={{ title: "Home" }} />\n        <PlatformNavigator.Screen name="settings" options={{ title: "Settings" }} />\n    </PlatformNavigator>\n  );\n}\n\n')),(0,n.kt)("h3",{id:"platform-specific-extensions"},"Platform specific extensions"),(0,n.kt)("p",null,"Currently, Metro platform extensions (e.g. .ios.js, .native.ts) are not supported in the app directory. However, you can create platform specific files outside of the app directory, and use them from within the app directory."),(0,n.kt)("p",null,"Consider the following project:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="File System"',title:'"File','System"':!0},"app/\n  _layout.js\n  index.js\n  user/\n    [id].js\ncomponents/\n  UserPage.js\n  UserPage.android.js\n  UserPage.ios.js\n")),(0,n.kt)("p",null,"Suppose the designs require you to build completely different user screens for each platform. In that case, you can create a component for each platform in the ",(0,n.kt)("inlineCode",{parentName:"p"},"components/")," directory using platform extensions. When imported, Metro will ensure the correct version of the component is used based on the current platform. You can then re-export the the component as a screen in the app directory."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="app/user/[id].js"',title:'"app/user/[id].js"'},'import UserPage from "@components/UserPage";\n\nexport default UserPage;\n')))}u.isMDXComponent=!0}}]);